

## 1. 학습 날짜

* 2021-03-10(수)



## 2. 학습 시간

* 15:45 ~ 23:40 (자가)



## 3. 학습 범위 및 주제

* ft_printf



## 4. 동료 학습 방법

* 슬랙을 통해 동료평가 진행 (intra ID: hkwon, yoncho, mtak)



## 5. 학습 목표

* ft_printf 코드 정리 후 평가



## 6. 상세 학습 내용

#### 1. main.c

* main 함수를 작성해서 원래 함수와 비교하며 `ft_printf` 에서 작성했던 `width` , `prec` , `zero, dot, minus flag` 의 적용을 복습  
* `leaks` 명령어를 통해 작성한 함수에서 메모리 누수가 발생하는지 검토 
* 코드

```c
#include "ft_printf.h"
#include <stdio.h>

int		main(void)
{
	// c
	printf("\n========== type c ==========\n");
	printf(", size: %d\n", printf("%c", 'a'));
	printf(", size: %d\n", ft_printf("%c", 'a'));
	printf(", size: %d\n", printf("%010c", 'b'));
	printf(", size: %d\n", ft_printf("%010c", 'b'));
	printf(", size: %d\n", printf("%5c", 'c'));
	printf(", size: %d\n", ft_printf("%5c", 'c'));
	printf(", size: %d\n", printf("%-5c", 'd'));
	printf(", size: %d\n", ft_printf("%-5c", 'd'));
	printf(", size: %d\n", printf("%c", 0));
	printf(", size: %d\n", ft_printf("%c", 0));
	printf(", size: %d\n", printf("%5c", 0));
	printf(", size: %d\n", ft_printf("%5c", 0));
	printf(", size: %d\n", printf("this is [type %c] test", 'c'));
	printf(", size: %d\n", ft_printf("this is [type %c] test", 'c'));


	// s
	printf("\n========== type s ==========\n");
	printf(", size: %d\n", printf("%s", "abcde"));
	printf(", size: %d\n", ft_printf("%s", "abcde"));
	printf(", size: %d\n", printf("%010s", "hello"));
	printf(", size: %d\n", ft_printf("%010s", "hello"));
	printf(", size: %d\n", printf("%-s", "world"));
	printf(", size: %d\n", ft_printf("%-s", "world"));
	printf(", size: %d\n", printf("%10.5s", "norm"));
	printf(", size: %d\n", ft_printf("%10.5s", "norm"));
	printf(", size: %d\n", printf("%-.10s", "hate"));
	printf(", size: %d\n", ft_printf("%-.10s", "hate"));
	printf(", size: %d\n", printf("this is [%s] test", "type s"));
	printf(", size: %d\n", ft_printf("this is [%s] test", "type s"));

	// p
	printf("\n========== type p ==========\n");
	printf(", size: %d\n", printf("%p", 0x101132f47));
	printf(", size: %d\n", ft_printf("%p", 0x101132f47));
	printf(", size: %d\n", printf("%20.5p", 0x101132f47));
	printf(", size: %d\n", ft_printf("%20.5p", 0x101132f47));
	printf(", size: %d\n", printf("%p", 0));
	printf(", size: %d\n", ft_printf("%p", 0));
	printf(", size: %d\n", printf("%5p", 0));
	printf(", size: %d\n", ft_printf("%5p", 0));
	printf(", size: %d\n", printf("this is [type p] test: %p", 0x1234));
	printf(", size: %d\n", ft_printf("this is [type p] test: %p", 0x1234));


	// d
	printf("\n========== type d ==========\n");
	printf(", size: %d\n", printf("%d", 23452));
	printf(", size: %d\n", ft_printf("%d", 23452));
	printf(", size: %d\n", printf("%-10d", 12345));
	printf(", size: %d\n", ft_printf("%-10d", 12345));
	printf(", size: %d\n", printf("%010d", 54321));
	printf(", size: %d\n", ft_printf("%010d", 54321));
	printf(", size: %d\n", printf("%010d", -54321));
	printf(", size: %d\n", ft_printf("%010d", -54321));
	printf(", size: %d\n", printf("%10d", -54321));
	printf(", size: %d\n", ft_printf("%10d", -54321));
	printf(", size: %d\n", printf("%10.3d", 23452));
	printf(", size: %d\n", ft_printf("%10.3d", 23452));
	printf(", size: %d\n", printf("%10.7d", 23452));
	printf(", size: %d\n", ft_printf("%10.7d", 23452));
	printf(", size: %d\n", printf("this is [type d] test: %10.7d", 23452));
	printf(", size: %d\n", ft_printf("this is [type d] test: %10.7d", 23452));


	// i
	printf("\n========== type i ==========\n");
	printf(", size: %d\n", printf("%i", 23452));
	printf(", size: %d\n", ft_printf("%i", 23452));
	printf(", size: %d\n", printf("%-10i", 12345));
	printf(", size: %d\n", ft_printf("%-10i", 12345));
	printf(", size: %d\n", printf("%010i", 54321));
	printf(", size: %d\n", ft_printf("%010i", 54321));
	printf(", size: %d\n", printf("%010i", -23452));
	printf(", size: %d\n", ft_printf("%010i", -23452));
	printf(", size: %d\n", printf("%10i", -23452));
	printf(", size: %d\n", ft_printf("%10i", -23452));
	printf(", size: %d\n", printf("%10.3i", 23452));
	printf(", size: %d\n", ft_printf("%10.3i", 23452));
	printf(", size: %d\n", printf("%10.7i", 23452));
	printf(", size: %d\n", ft_printf("%10.7i", 23452));
	printf(", size: %d\n", printf("this is [type i] test: %10.7i", 23452));
	printf(", size: %d\n", ft_printf("this is [type i] test: %10.7i", 23452));


	// u
	printf("\n========== type u ==========\n");
	printf(", size: %d\n", printf("%u", 23452));
	printf(", size: %d\n", ft_printf("%u", 23452));
	printf(", size: %d\n", printf("%-10u", 12345));
	printf(", size: %d\n", ft_printf("%-10u", 12345));
	printf(", size: %d\n", printf("%010u", 54321));
	printf(", size: %d\n", ft_printf("%010u", 54321));
	printf(", size: %d\n", printf("%10.3u", 23452));
	printf(", size: %d\n", ft_printf("%10.3u", 23452));
	printf(", size: %d\n", printf("%10.7u", 23452));
	printf(", size: %d\n", ft_printf("%10.7u", 23452));
	printf(", size: %d\n", printf("%u", -23452));
	printf(", size: %d\n", ft_printf("%u", -23452));
	printf(", size: %d\n", printf("this is [type i] test: %10.7u", 23452));
	printf(", size: %d\n", ft_printf("this is [type i] test: %10.7u", 23452));


	// x
	printf("\n========== type x ==========\n");
	printf(", size: %d\n", printf("%x", 113801));
	printf(", size: %d\n", ft_printf("%x", 113801));

	// X
	printf("\n========== type X ==========\n");
	printf(", size: %d\n", printf("%X", 113801));
	printf(", size: %d\n", ft_printf("%X", 113801));


	// %
	printf("\n========== type %% ==========\n");
	printf(", size: %d\n", printf("%%"));
	printf(", size: %d\n", ft_printf("%%"));

  // check memory leaks
	printf("\n");
	system("leaks a.out > leaks_result; cat leaks_result | grep leaked && rm -rf leaks_result");

	return (0);
}
```



<hr>

#### 2. 수정이 필요한 사항

* ft_type_s.c
  * `%s` 는 `0 flag` 를 지원하지 않기 때문에 0으로 패딩하는 코드는 없어도 됨
  * 함수 `ft_get_result_s` 에서 `if (flags->dot && !flags->prec)` 인 경우 함수의 인자로 받아온 문자열 `str` 을 `free`하지 않고 종료하기 때문에 메모리 누수가 발생한다. 수정 필요



## 7. 학습 내용에 대한 개인적인 총평

* 드디어 ft_printf 동료평가를 받고 물리넷도 통과했다. 블랙홀 21일이 늘어났다. ft_printf 를 2월 8일에 처음 시작했는데 코드를 완성한지는 2주인데,,,, 3월이 돼서야 통과한게 웃기다..... 21일 받은거,,, 노느라 다 썼다... 열심히했으면 진작에 cub3D 도 많이 하지 않았을까 싶긴하면서도 cub3D 가 너무 어려워서 그건 아닌 것 같다...ㅋ.... 
* 내일부터는 진짜 cub3D 를 해야하는데 너무 무섭다. 진짜로 열심히해봐야겠다. 근데 하필 개강도 했고 정보처리기사 실기시험도 봐야해서 갑자기 할 게 많아졌다. 빨리 cub3D 를 해야할 것 같은데 할 수 있을지 의문이 든다..... 아무튼 화이팅 합시다!



## 8. 다음 학습 계획

* cub3D 진짜 진짜!

