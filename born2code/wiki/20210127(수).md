## 1. 학습 날짜

2021-01-27(수)


## 2. 학습 시간

* 17:50 ~ 23:30 (자가)


## 3. 학습 범위 및 주제

* get_next_line

## 4. 동료 학습 방법

* 디스코드와 슬랙 화면 공유를 통해 수정 사항 도움 (intra ID: jiwchoi)

## 5. 학습 목표

* get_next_line 수정 및 마무리
* bonus 구현

## 6. 상세 학습 내용

#### 1. get_next_line 수정

* get_next_line() 함수에서 save 에 저장된 값과 buf 에 저장된 값을 ft_strjoin() 함수를 사용해서 붙인 후 save 에 저장한는데, 그 과정에서 기존에 save 에 저장된 값이 free() 되지 않아서 메모리 누수가 발생 -> ft_strjoin() 함수에서 free()
* ft_separate() 함수의 인자값에 (rd_size) 를 추가해서 만약 (rd_size == 0) 일때 (새로 읽은 값이 없을 때) line에 save에 저장된 값을 붙여넣고 save에 빈 문자열을 붙여준 후 종료하도록 함. -> 비슷한 함수를 두 개 만들지 않기 위해 추가
* 코드

```
if (rd_size < 0) // 예외처리
	return (-1);
if (!save)
	save = ft_strdup("");
return (ft_separate(line, &save, rd_size)); // 새로 읽은 것이 없을 경우 save에 저장된 것을 기준으로 line에 붙이도록 함
```

<hr>

#### 2. bonus

* 여러 개의 파일을 읽을 수 있도록 구현 (fd 값이 여러개!)
* 기존에 읽었던 문자를 저장하는 변수 save 를 배열로 선언해서 각각의 fd 에 맞는 save를 사용하도록 한다.
* 코드

```
static char	*save[OPEN_MAX];
while ((rd_size = read(fd, buf, BUFFER_SIZE)) > 0)
{
	buf[rd_size] = 0;
	if (!save[fd])
		save[fd] = ft_strdup(buf);
	else
		save[fd] = ft_strjoin(save[fd], buf);
	if ((is_sep = ft_separate(line, &save[fd], rd_size)))
		return (is_sep);
}
```


## 7. 학습 내용에 대한 개인적인 총평

* 어제 거의 다 수정해놓고 마지막에 문제를 잘못 이해했다는 것을 알고 허무하고 힘들었는데 막상 오늘 다시 수정해보니까 살짝만 수정하면 되는 문제여서 너무 다행이였고 기분이 좋았다. 
* 다른 사람들이 올려놓은 테스트기로 테스트를 하면서 수정을 했는데 혼자서 못하겠어서 jiwchoi 와 슬랙으로 화면공유를 하면서 수정했다. 생각보다 금방 수정했다. jiwchoi의 오류도 함께 고쳐주었다. 역시 혼자 공부하는 것보다 동료학습으로 진행하는 것이 훨씬 효율이 높은 것 같다.
* 테스트기도 다 통과했고 보너스까지 구현을 모두 마쳐서 기분이 좋다. 마음먹고 했더니 3일 안에 해결해서 기분도 좋고 한 달 전에 마음먹고 해결했으면 얼마나 좋았을까 하는 아쉬움도 있지만, 다르게 생각하면 그때 힘들었기 때문에 지금 3일 안에 해결한 것 같기도 하다. 후회는 하지 말아야겠다.


## 8. 다음 학습 계획

* get_next_line() 평가
* ft_printf() 구현