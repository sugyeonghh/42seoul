## 1. 학습 날짜

2021-01-25(월)


## 2. 학습 시간

* 13:00 ~ 19:30 (카페)


## 3. 학습 범위 및 주제

* get_next_line

## 4. 동료 학습 방법

* 카페에서 만나서 get_next_line 알고리즘 구현 및 도움 (intra ID: jji, jiwchoi)

## 5. 학습 목표

* get_next_line 구현

## 6. 상세 학습 내용

#### 0. get_next_line 이란

* 파일을 읽어들여서 해당 파일에서 한 줄씩 line 에 붙여주는 함수
* 한 번 실행했을 때, 한 라인을 읽을 때 까지 파일을 읽는데, 이때 한 번에 읽어들일 수 있는 buffer_size 는 컴파일 시 옵션으로 지정해준다.
* static 변수를 지정해줘서 다시 함수에 들어와도 읽었던 값을 잃어버리지 않도록 구현해야한다.

<hr>

#### 1. get_next_line.c

* 구현하고자 하는 기본 함수 get_next_line()이 위치한 파일
* get_next_line()
    * PROTOTYPE           
        * `int get_next_line(int fd, char **line);`
    * PARAMETERS
        * File descriptor for reading
		* The value of what has been read
    * DESCRIPTION
        * Write a function which returns a line read from a file descriptor, without the newline.
    * RETURN VALUES
		* 1 :  A line has been read
		* 0 :  EOF has been reached
		* -1 :  An error happened
    * EXTERNAL FUNCTS
        * read, malloc, free

* 알고리즘
	* 변수
		* buf[BUFFER_SIZE + 1]: 버퍼 - BUFFER_SIZE 만큼 읽어서 저장
		* save 포인터변수: 읽었던 문자들을 저장하는 변수, 함수가 끝나더라도 저장이 되어있어야하므로 static 으로 선언해준다.
		* rd_size: read() 함수로 성공적으로 읽어온 사이즈를 저장하는 변수
		* is_sep: line을 붙였는지(한 라인을 읽었는지) 여부를 저장하는 함수
	* 버퍼사이즈만큼 읽어온 것을 버퍼에 저장하고, ft_strjoin() 함수를 사용해서 save 에 저장되어 있던 것과 버퍼를 묶어서 save를 다시 저장한다. 만약 save 에 저장된 것이 없다면 ft_strdup() 함수를 사용해서 버퍼를 복사해서 save 에 저장한다.
	* ft_separate() 함수를 실행해서 한 줄씩 line 에 연결하고 종료한다.

<hr>

#### 2. get_next_line_utils.c

* get_next_line() 구현을 위해 필요한 다른 함수들이 위치한 파일
	* ft_strlen(const char *s)
		* 문자열의 길이를 구하는 함수
	* ft_find_newline(const char *s)
		* 문자열에 개행문자가 있는지 확인하는 함수
		* 개행문자가 있으면 해당 인덱스를 반환하고 그렇지 않으면 (-1)을 반환
	* ft_strjoin(char const *s1, char const *s2)
		* 인자로 받은 두 문자열을 붙여서 새로운 메모리에 저장한 후 반환하는 함수
	* ft_strdup(const char *s1)
		* 인자로 받은 문자열을 복사해서 새로 할당한 메모리에 저장한 후 반환하는 함수
	* ft_separate(char **line, char **save)
		* save에 저장된 문자를 기준으로 라인 단위로 line 에 붙여주는 함수

<hr>

#### 3. get_next_line.h

* get_next_line.c 와 get_next_line_utils.c 에 있는 모든 함수의 프로토타입과 각 함수에서 요구되는 헤더들을 저장
	* unistd.h
		* read()
		* size_t
	* stdlib.h
		* malloc()
		* free()


## 7. 학습 내용에 대한 개인적인 총평

* jiwchoi와 알고리즘을 2시간 반 가량을 계획한 뒤에 구현했는데 직접 구현하면서 생기는 오류들이나 예외상황들을 처리하도록 구현하는 것이 오래걸렸다. 잘 되는 것 같다가도 하나씩 틀렸다. 오랜 시간 고민했지만 결국 집중력이 떨어져서 마무리하지 못했다. 하지만 여기까지 구현한 것도 다행이라고 생각한다.
* 몇 주 전에 구현했던 상황이랑 비슷한 결과가 나왔고 같은 이유로 막혀서 약간 허무하긴 했지만 그래도 그때보다 코드가 훨씬 간결하고 작성했던 코드를 거의 바꾸지 않고 사용할 수 있게 되어서 기분은 좋았다. 아쉬운 사항들은 내일 마무리하면 된다.
* 확실히 집에서 혼자 할 때와는 분위기도 속도도 집중력도 모두 달랐다. 나는 혼자 공부하는 것을 좋아하지만 잘 모르는 분야를 공부한다던지 어려운 코딩 (주로 42 과제)를 할 때는 동료와 같이 있을 때 능률이 좀 더 오르는 것 같다. 빨리 클러스터가 열렸으면 좋겠다.


## 8. 다음 학습 계획

* get_next_line() 수정