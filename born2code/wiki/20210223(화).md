

## 1. 학습 날짜

* 2021-02-23(화)



## 2. 학습 시간

* 17:00 ~ (익일)01:30 (자가)



## 3. 학습 범위 및 주제

* cub3D



## 4. 동료 학습 방법

* 디스코드를 통해 cub3D 를 위한 배경지식 학습 (intra ID: yoncho)



## 5. 학습 목표

* cub3D를 위한 배경지식
  * https://github.com/taelee42/mlx_example 참고해서 mlx 이해



## 6. 상세 학습 내용

#### 1. map2D

* 간단한 `15 x 11 크기의 2D map` 을 만드는 코드

* 코드 진행

  * `game_init()` 으로 `map` 정보 가져오기 -> 0과 1로 벽을 구분, `15 x 11`
  * `window_init()` 으로 `window` 초기화
  * `img_init()` 으로 `img` 초기화 
  * `ESC` 키 혹은 `x` 버튼을 누르면 윈도우 종료
  * 그렇지 않으면 `main_loop` 를 호출하는데, 새로 바뀐 값을 반영해서 무한 루프
    * `draw_rectangles()` : 벽 색칠
    * `draw_lines()` : 라인을 칠해서 칸을 구분하는 함수
    * `mlx_put_image_to_window()` : 만들어진 이미지를 윈도우에 띄우는 함수

* 함수 세부 설명

  * `void draw_rectangles(t_game *game)` : `WIDTH * HEIGHT` 에 접근해서 벽이면 흰색으로 칠하는 함수

    * `WIDTH * HEIGHT` 크기만큼 하나하나 접근해서 값이 `1(벽)` 이면 `draw_rectangle()` 함수 호출
      * `void draw_rectangle(t_game *game, int x, int y)` : 픽셀단위로 접근해서 칸을 칠하는 함수
        * 한 타일의 크기가 `32 * 32` 이다. 이 타일을 칠해야 하기 때문에 한 칸씩 접근해서 칠한다. 

    ![IMG_6E109FD1E2DD-1](https://user-images.githubusercontent.com/55546817/109205196-9f61bc80-77e9-11eb-98c0-28c7ed71e4ff.jpeg)

  

  * `void draw_lines(t_game *game)` : 칸을 나눌 수 있도록 선을 칠해주는 함수

    * `WIDTH * HEIGHT` 크기만큼 하나하나 접근해서 `draw_lines()` 함수를 호출해서 가로 한 라인씩, 세로 한 라인씩 칠해준다.
      * `void draw_lines(t_game *game, double x1, double y1, double x2, double y2)`
        * `DDA` 알고리즘 사용
        * 픽셀 단위로 접근해서 `x1부터 x2까지` 라인을 그리거나, `y1부터 y2 까지` 라인을 그려줌

    ![IMG_8A387BE13EC2-1](https://user-images.githubusercontent.com/55546817/109205119-835e1b00-77e9-11eb-8442-2611e5138132.jpeg)

* 실행 결과

  <img width="592" alt="스크린샷 2021-02-26 오전 4 16 47" src="https://user-images.githubusercontent.com/55546817/109205072-72ada500-77e9-11eb-9b1e-193909761be6.png">

<hr>

#### 2. DDA 알고리즘

* `Digital Differential Analyzer`
* 중간값을 취하지 않는 양
* 좌표가 실수이면 반올림해서 정수로 만든 후에 점을 찍음

![IMG_3B98C84E0FA5-1](https://user-images.githubusercontent.com/55546817/109204938-4d209b80-77e9-11eb-83f6-6e7b08b17587.jpeg)





## 7. 학습 내용에 대한 개인적인 총평

* `DDA` 알고리즘도 처음 접해봤고 `mlx` 도 익숙하지 않아서 코드 이해하는데 시간이 오래걸렸다. 내 코드도 아니라서 코드 분석이 힘들었다. 또 픽셀단위로 접근하다보니 더 복잡하게 느껴졌던 것 같다. `TILE_SIZE` 가 `32` 인 것도 이해가 안갔는데 마지막에 `int` 형에 맞춘 것을 아니까 전반적으로 이해가 갔다. 
* 코드를 이해할 때 너무 길기도 하고 어렵고 복잡해서 거창하다 싶었는데 막상 코드를 뜯어보니 진짜 단순한 2D map 만들기여서 허탈했고 한편으로는 걱정이 됐다. 이렇게 간단한 2D map 그리는 것 마저 이렇게 코드가 긴데 `cub3D` 를 구현할 수 있을까 싶었다. 코드가 길기도 하고 하나부터 열까지 다 모르는 내용이라 무섭다. 그래도 이제 `mlx` 는 대충 이해한 것 같아서 다행이다. 내일은 얼마나 어려울까...



## 8. 다음 학습 계획

* cub3D 를 위한 배경지식 학습

