



## 1. 학습 날짜

* 2021-03-14(일)



## 2. 학습 시간

* 20:00 ~ 01:15 (자가)



## 3. 학습 범위 및 주제

* cub3D



## 4. 동료 학습 방법

* (intra ID) yoncho 와 모르는 것을 질문하면서 기초지식 학습



## 5. 학습 목표

* cub3D



## 6. 상세 학습 내용

#### 1. 벡터의 회전

회전 행렬을 이용해서 벡터를 회전!

![IMG_55ABB2FBF147-1](https://user-images.githubusercontent.com/55546817/111040578-e0f39800-8476-11eb-88ac-53bc2e37e1ce.jpeg)

위 사진과 같이 회전행렬을 도출할 수 있다.

* 회전 행렬

```
|cos a	-sin a|
|sin a	 cos a|
```

![IMG_2F71A824EA8B-1](https://user-images.githubusercontent.com/55546817/111040129-18f9db80-8475-11eb-9fd7-35cb2a3f58b8.jpeg)



* 현재 플레이어가 바라보는 방향은 `u`

* 플레이어가 보는 방향을 `θ` 만큼 반시계방향으로 회전

* 플레이어가 바라보는 방향의 벡터 `v` 는?

  * `u` * 회전행렬

  ```c
  [v_x] = |cos a	-sin a|[u_x]
  [v_y] = |sin a	 cos a|[u_y]
  ```

* c 코드로 구현

```c
t_vec	vec_rotate(t_vec a, double angle)
{
	double	sin_angle;
	double	cos_angle;
	t_vec	result;

	sin_angle = sin(angle);
	cos_angle = cos(angle);
	result.x = cos_angle * a.x - sin_angle * a.y;
	result.y = sin_angle * a.x + cos_angle * a.y;
	return (result);
}

// 회전각이 미소한 경우 단순화
t_vec	vec_rotate_min(t_vec a)
{
	double	sin_unit;
	double	cos_unit;
	t_vec	result;

	if (sin_unit)
		sin_unit;
	else
		sin(M_PI * ANGLE_MIN / 180);
	if (cos_unit)
		cos_unit;
	else
		cos(M_PI * ANGLE_MIN / 180);
	result.x = cos_unit * a.x - sin_unit * a.y;
	result.y = sin_unit * a.x - cos_unit * a.y;
	return (result);
}
```

![IMG_B8FB3A3A66D3-1](https://user-images.githubusercontent.com/55546817/111040310-c40a9500-8475-11eb-8b5d-5dcddb2db995.jpeg)



## 7. 학습 내용에 대한 개인적인 총평

* 삼각함수는 몇 번을 공부해도 뒤돌면 까먹고 다 이해했는데도 나중에 다시 적용하려고 보면 적용도 안되고 정확하게 생각도 안난다. 내가 삼각함수 공부를 너무 오랜만에 한 것도 있고, 깊게 안한 것도 있고 이정도면 됐겠지~ 하고 넘기는 태도도 문제인 것 같다. 하지만 뭔가 더 깊게 공부하려고 하기엔 자료가 없을 뿐더러 그럴 필요도........ 모르겠다..
* 벌써 cub3D 를 시작한지 시간이 꽤 됐다. 진짜로 진도를 빠르게 나가야겠다는 생각이 들기 시작했다. 너무 어려워서 말도 안나오는 수준이긴 하지만.... 여기저기 많이 물어보고 해야겠다.....



## 8. 다음 학습 계획

* cub3D 
  * minckim 님 pdf 를 기반으로 학습, 코드 이해

